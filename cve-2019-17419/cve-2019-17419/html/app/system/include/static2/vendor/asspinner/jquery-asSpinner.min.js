/**
* jQuery asSpinner v0.4.2
* https://github.com/amazingSurge/jquery-asSpinner
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{var i={exports:{}};t(e.jQuery),e.jqueryAsSpinnerEs=i.exports}}(this,function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=t(e),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o={namespace:"asSpinner",skin:null,disabled:!1,min:-10,max:10,step:1,name:null,precision:0,rule:null,looping:!0,mousewheel:!1,format:function(e){return e},parse:function(e){return parseFloat(e)}},u={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:99999,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},r="asSpinner",l=function(){function e(t,s){var a=this;i(this,e),this.element=t,this.$element=(0,n.default)(t),this.options=n.default.extend({},o,s,this.$element.data()),this.namespace=this.options.namespace,this.options.rule?!function(){var e=a,t=["min","max","step","precision"];n.default.each(t,function(t,i){e[i]=u[e.options.rule][i]})}():(this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.precision=this.options.precision),this.disabled=this.options.disabled,this.$element.prop("disabled")&&(this.disabled=!0),this.value=this.options.parse(this.$element.val()),this.mousewheel=this.options.mousewheel,this.mousewheel&&!n.default.event.special.mousewheel&&(this.mousewheel=!1),this.eventBinded=!1,this.spinTimeout=null,this.isFocused=!1,this.classes={disabled:this.namespace+"_disabled",skin:this.namespace+"_"+this.options.skin,focus:this.namespace+"_focus",control:this.namespace+"-control",down:this.namespace+"-down",up:this.namespace+"-up",wrap:this.namespace},this._trigger("init"),this.init()}return a(e,[{key:"init",value:function(){this.$control=(0,n.default)('<div class="'+this.namespace+'-control"><span class="'+this.classes.up+'"></span><span class="'+this.classes.down+'"></span></div>'),this.$wrap=this.$element.wrap('<div tabindex="0" class="'+this.classes.wrap+'"></div>').parent(),this.$down=this.$control.find("."+this.classes.down),this.$up=this.$control.find("."+this.classes.up),this.options.skin&&this.$wrap.addClass(this.classes.skin),this.$control.appendTo(this.$wrap),this.disabled===!1?this.bindEvent():this.disable(),this._trigger("ready")}},{key:"_trigger",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var s=[this].concat(i);this.$element.trigger(r+"::"+e,s),e=e.replace(/\b\w+\b/g,function(e){return e.substring(0,1).toUpperCase()+e.substring(1)});var a="on"+e;"function"==typeof this.options[a]&&this.options[a].apply(this,i)}},{key:"spin",value:function(e,t){var i=this,n=function t(n){clearTimeout(i.spinTimeout),i.spinTimeout=setTimeout(function(){e.call(i),t(60)},n)};n(t||500)}},{key:"bindEvent",value:function(){var e=this;this.eventBinded=!0,this.$wrap.on("focus.asSpinner",function(){e.$wrap.addClass(e.classes.focus)}).on("blur.asSpinner",function(){e.isFocused||e.$wrap.removeClass(e.classes.focus)}),this.$down.on("mousedown.asSpinner",function(){(0,n.default)(document).one("mouseup.asSpinner",function(){clearTimeout(e.spinTimeout)}),e.spin(e.spinDown)}).on("mouseup.asSpinner",function(){clearTimeout(e.spinTimeout),(0,n.default)(document).off("mouseup.asSpinner")}).on("click.asSpinner",function(){e.spinDown()}),this.$up.on("mousedown.asSpinner",function(){(0,n.default)(document).one("mouseup.asSpinner",function(){clearTimeout(e.spinTimeout)}),e.spin(e.spinUp)}).on("mouseup.asSpinner",function(){clearTimeout(e.spinTimeout),(0,n.default)(document).off("mouseup.asSpinner")}).on("click.asSpinner",function(){e.spinUp()}),this.$element.on("focus.asSpinner",function(){e.isFocused=!0,e.$wrap.addClass(e.classes.focus),(0,n.default)(this).on("keydown.asSpinner",function(t){var i=t.keyCode||t.which;return 38===i?(e.applyValue(),e.spinUp(),!1):40===i?(e.applyValue(),e.spinDown(),!1):void(i<=57&&i>=48&&setTimeout(function(){},0))}),e.mousewheel===!0&&(0,n.default)(this).mousewheel(function(t,i){return i>0?e.spinUp():e.spinDown(),!1})}).on("blur.asSpinner",function(){e.isFocused=!1,e.$wrap.removeClass(e.classes.focus),(0,n.default)(this).off("keydown.asSpinner"),e.mousewheel===!0&&(0,n.default)(this).unmousewheel(),e.applyValue()})}},{key:"unbindEvent",value:function(){this.eventBinded=!1,this.$element.off(".asSpinner"),this.$down.off(".asSpinner"),this.$up.off(".asSpinner"),this.$wrap.off(".asSpinner")}},{key:"isNumber",value:function(e){return!("number"!=typeof e||!n.default.isNumeric(e))}},{key:"isOutOfBounds",value:function(e){return e<this.min?-1:e>this.max?1:0}},{key:"applyValue",value:function(){this.options.format(this.value)!==this.$element.val()&&this.set(this.options.parse(this.$element.val()))}},{key:"_set",value:function(e){isNaN(e)&&(e=this.min);var t=this.isOutOfBounds(e);0!==t&&(e=this.options.looping===!0?1===t?this.min:this.max:t===-1?this.min:this.max),this.value=e=Number(e).toFixed(this.precision),this.$element.val(this.options.format(this.value))}},{key:"set",value:function(e){this._set(e),this._trigger("change",this.value)}},{key:"get",value:function(){return this.value}},{key:"update",value:function(e){var t=this;return["min","max","precision","step"].forEach(function(i){e[i]&&(t[i]=e[i])}),e.value&&this.set(e.value),this}},{key:"val",value:function(e){return e?void this.set(this.options.parse(e)):this.get()}},{key:"spinDown",value:function(){return n.default.isNumeric(this.value)||(this.value=0),this.value=parseFloat(this.value)-parseFloat(this.step),this.set(this.value),this}},{key:"spinUp",value:function(){return n.default.isNumeric(this.value)||(this.value=0),this.value=parseFloat(this.value)+parseFloat(this.step),this.set(this.value),this}},{key:"enable",value:function(){return this.disabled=!1,this.$wrap.removeClass(this.classes.disabled),this.$element.prop("disabled",!1),this.eventBinded===!1&&this.bindEvent(),this._trigger("enable"),this}},{key:"disable",value:function(){return this.disabled=!0,this.$element.prop("disabled",!0),this.$wrap.addClass(this.classes.disabled),this.unbindEvent(),this._trigger("disable"),this}},{key:"destroy",value:function(){return this.unbindEvent(),this.$control.remove(),this.$element.unwrap(),this._trigger("destroy"),this}}],[{key:"setDefaults",value:function(e){n.default.extend(o,n.default.isPlainObject(e)&&e)}}]),e}(),p={version:"0.4.2"},h="asSpinner",c=n.default.fn.asSpinner,f=function(e){for(var t=this,i=arguments.length,a=Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if("string"==typeof e){var u=function(){var i=e;if(/^_/.test(i))return{v:!1};if(!(/^(get)$/.test(i)||"val"===i&&0===a.length))return{v:t.each(function(){var e=n.default.data(this,h);e&&"function"==typeof e[i]&&e[i].apply(e,a)})};var s=t.first().data(h);return s&&"function"==typeof s[i]?{v:s[i].apply(s,a)}:void 0}();if("object"===("undefined"==typeof u?"undefined":s(u)))return u.v}return this.each(function(){(0,n.default)(this).data(h)||(0,n.default)(this).data(h,new l(this,e))})};n.default.fn.asSpinner=f,n.default.asSpinner=n.default.extend({setDefaults:l.setDefaults,noConflict:function(){return n.default.fn.asSpinner=c,f}},p)});